<div [formGroup]="templeForm" class="flex flex-col bg-gray-50 p-3 rounded-lg shadow-md border border-gray-200 space-y-2">
  <img [src]="templeUrl"
       alt="Temple découpée"
       class="shadow-lg border-2 border-indigo-300 rounded-lg object-contain mb-2"
  >
  <div class="w-full text-xs space-y-2">
    <div>
      <label class="block font-medium text-gray-700">Couleur</label>
      <select formControlName="color" class="w-full p-1 border rounded">
        <option value="">-- Aucune --</option>
        <option *ngFor="let color of colorOptions" [value]="color">{{ color }}</option>
      </select>
    </div>
    <div>
      <label class="block font-medium text-gray-700">Valeur</label>
      <select formControlName="value" class="w-full p-1 border rounded">
        <option value="">-- Aucune --</option>
        <option *ngFor="let val of valueOptions" [value]="val">{{ val }}</option>
      </select>
    </div>
    <div formArrayName="options" class="p-2 border rounded bg-white shadow-inner space-y-1">
      <label class="block font-medium text-gray-700 mb-1">Options</label>

      <div *ngFor="let control of optionsArray.controls; let i = index" class="flex items-center space-x-1">
        <select [formControl]="control" class="w-full p-1 border rounded text-xs">
          <option value="">-- Sélectionner --</option>
          <option *ngFor="let opt of optionsList" [value]="opt">{{ formatLabel(opt) }}</option>
        </select>
        <button type="button" (click)="removeOption(i)" class="text-red-500 hover:text-red-700 text-lg leading-none p-1">
          &times;
        </button>
      </div>

      <button type="button" (click)="addOption()"
              class="mt-1 w-full py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition duration-100">
        + Ajouter une Option
      </button>
    </div>
    <div>
      <label class="block font-medium text-gray-700">Multiplicateur</label>
      <select formControlName="multiplier" class="w-full p-1 border rounded">
        <option value="">-- Aucun --</option>
        <option *ngFor="let mult of multiplierOptions" [value]="mult">{{ mult }}</option>
      </select>
    </div>
  </div>
</div>